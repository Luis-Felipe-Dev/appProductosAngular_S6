<div class="card bg-light w-75 mx-auto" *ngIf="products">
  <div class="card-header">Listado de Productos</div>
  <div class="card-body">
    <div class="card border-dark mb-3">

      <!-- Filtro por Tipo -->
      <div class="mb-3">
        <label for="tipoBusqueda" class="form-label">Buscar por Tipo:</label>
        <select id="tipoBusqueda" class="form-select" [(ngModel)]="tipoBusqueda">
          <option value="">Todos</option>
          <option *ngFor="let tipo of tipos" [value]="tipo">{{ tipo }}</option>
        </select>
        <button class="btn btn-primary mt-2" (click)="buscarPorTipo(tipoBusqueda)">Buscar</button>
        <button class="btn btn-secondary mt-2" (click)="reloadData()">Limpiar</button>
      </div>

      Filtro por Stock
      <div class="mb-3">
        <label for="stockBusqueda" class="form-label">Buscar por Stock Mínimo:</label>
        <input type="number" id="stockBusqueda" class="form-control" [(ngModel)]="stockBusqueda" placeholder="Ingrese stock mínimo">
        <button class="btn btn-primary mt-2" (click)="buscarPorStock()">Buscar</button>
        <button class="btn btn-secondary mt-2" (click)="reloadData()">Limpiar</button>
      </div>

      <!-- Tabla de Productos -->
      <table class="table table-dark">
        <thead>
          <tr>
            <th>Código</th>
            <th>Descripción</th>
            <th>Precio</th>
            <th>Stock</th>
            <th>Tipo</th>
            <th>Venta</th>
            <th>Ver</th>
            <th>Editar</th>
            <th>Eliminar</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let p of products">
            <td>{{p.codigo}}</td>
            <td>{{p.descripcion}}</td>
            <td>{{p.precio}}</td>
            <td>{{p.stock}}</td>
            <td>{{p.tipo}}</td>
            <td>{{p.venta}}</td>
            <td><button class="btn btn-info btn-sm">Ver</button></td>
            <td><button class="btn btn-warning btn-sm">Editar</button></td>
            <td><button class="btn btn-danger btn-sm" (click)="eliminarProducto(p.codigo)">Eliminar</button></td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>
